{% extends "prop_admin/base.html"%}
{% block container %}


<div class="col-sm-12">
   <div class="row">
       <div class="col-md-6">
        <h5>PROFILE</h5>
       </div>
       <div class="col-md-6 text-right">
        <h4>Hello, {{user}}</h4>
       </div>
   </div>
    
 

  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Please correct the errors</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
         
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          
        </div>
      </div>
    </div>
  </div>
   
    <hr>
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link text-uppercase active" id="identity-tab" data-toggle="tab" href="#identity" role="tab" aria-controls="identity" aria-selected="true">PERSONAL</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-uppercase" id="finance-tab" data-toggle="tab" href="#finance" role="tab" aria-controls="finance" aria-selected="false">RISK PROFILE</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-uppercase" id="background-tab" data-toggle="tab" href="#background" role="tab" aria-controls="background" aria-selected="false">COMPLETE</a>
        </li>
    </ul>

    

    <div class="tab-content" id="myTabContent">
    <form id="profile" class="form-horizontal form_middle form-control" enctype='multipart/form-data' method="POST">
        {% csrf_token %}
        <div class="tab-pane fade active show" id="identity" role="tabpanel" aria-labelledby="identity-tab">
                
                {% if messages %}
                {% for message in messages %}
                <div class="alert alert-{% if message.tags %}{{ message.tags }}" {% endif %}>
                   {{ message }}.
                  </div>
                  {% endfor %}

                {% endif %}
              
                <div class="row">
                    <div class="col-md-12">
                        <h3 class="icon-text">Investment Profile Category</h3><br>
                        {{ profile_form.choose_category.label_tag }}
                        {{ profile_form.choose_category }}
                        {{ profile_form.choose_category.errors}}
                    </div>


                    <div class="col-md-12">
                        <h3 class="icon-text">Personal Details</h3><br>
                        {{ profile_form.choose_profile_type.label_tag }}
                        {{ profile_form.choose_profile_type }}
                        {{ profile_form.choose_profile_type.errors}}
                    </div>

                    <div class="col-md-6">
                    <!-- Label for- first_name -->
                    {{ user_form.first_name.label_tag }}
                    {{ user_form.first_name }}
                    {{ user_form.first_name.errors}}
                        
                    </div>
                    <div class="col-md-6">
                    <!-- Label for- last_name -->
                    {{ user_form.last_name.label_tag }}
                    {{ user_form.last_name }}
                    {{ user_form.last_name.errors}}
                        
                    </div>
                    <div class="col-md-6">

                    <!-- Label for- phone -->
                    {{ profile_form.phone.label_tag }}
                    {{ profile_form.phone }}
                    {{ profile_form.phone.errors}}
                  
                        
                    </div>
      
                    <div class="col-md-6">
                    <!-- Label for- email -->
                    {{ user_form.email.label_tag }}
                    {{ user_form.email }}
                    {{ user_form.email.errors}}
                   
                    </div>
                    <div class="col-md-6">
                     <!-- Label for- ssn -->
                 <label>Date Of Birth:</label>
                    {{ profile_form.dob }}
                    {{ profile_form.dob.errors}}
                    </div>
                    
                    <div class="col-md-6">
                        {{ profile_form.residential_status.label_tag }}
                        {{ profile_form.residential_status }}
                        {{ profile_form.residential_status.errors}}
                  
                    </div>
                    <div class="col-md-6">
                        
                        {{ profile_form.gender.label_tag }}
                        {{ profile_form.gender }}
                        {{ profile_form.gender.errors}}
                    </div>
                    <div class="col-md-6">
                        
                        <label>Citizenship:</label>
                        {{ profile_form.residence_country }}
                        {{ profile_form.residence_country.errors}}
                    </div>
                </div>
                <p >
                    <hr>
                    <h5 class="text-center">*Please refer to this <a target="_blank" href="#">ready reckoner</a> to determine your residential status</h5>
                </p>
        </div>

        <div class="tab-pane fade" id="finance" role="tabpanel" aria-labelledby="finance-tab" >
            
             
              
            <div class="row">
                <div class="col-md-12" style="padding: 35px;">
                    <h3 class="icon-text">Risk Profiling
                    </h3><br>
                    <p>In order for us to guide you through the onboarding and investment process, we require you to complete a short risk profiling questionnaire, which is mandated by SEBI. We have designed the questionnaire to enable us to identify which investment product suits your objectives, needs, and risk tolerance.</p>
                    <h6>Name of investor</h6><br>
                    <input type="text" value="{{user}}" disabled style="width: 50%;margin-left: -16px;">
                
                </div>
               
                <div class="col-md-12">
                    <label>Income details</label>
                    {{ profile_form.income_details }}
                    {{ profile_form.income_details.errors}}
                </div>
                <div class="col-md-12">
                    <label>Existing Investments / assets</label>
                    {{ profile_form.existing_investments }}
                    {{ profile_form.existing_investments.errors}}
                </div>
                <div class="col-md-12">
                    <label>Existing loans</label>
                    {{ profile_form.existing_loans }}
                    {{ profile_form.existing_loans.errors}}
                </div>
                <div class="col-md-12">
                    <label>What is your main aim of investing?</label>
                    {{ profile_form.aim_of_investing }}
                    {{ profile_form.aim_of_investing.errors}}
                </div>
                <div class="col-md-12">
                    <label>Which of the below best describes you as an investor?</label>
                    {{ profile_form.best_describes }}
                    {{ profile_form.best_describes.errors}}
                </div>
                <div class="col-md-12">
                    <label>Which of the below would match your investment risk and return profile?</label>
                    {{ profile_form.investment_risk }}
                    {{ profile_form.investment_risk.errors}}
                </div>
                <div class="col-md-12">
                    <label>What is your typical Investment Horizon?</label>
                    {{ profile_form.investment_horizon }}
                    {{ profile_form.investment_horizon.errors}}
                </div>
                <div class="col-md-12">
                    <label>On a scale of 1-10, how would you define your risk appetite?</label>
                    <p>Zero risk investments include Fixed deposits, government bonds while high risk ones would include alternative asset classes (AIF, Venture investments etc).</p>
                    {{ profile_form.risk_appetite }}
                    {{ profile_form.risk_appetite.errors}}
                </div>
                <div class="col-md-12">
                    <label>How important is liquidity on your investments for you?</label>
                    {{ profile_form.liquidity_investments }}
                    {{ profile_form.liquidity_investments.errors}}
                </div><br>

                <!-- <input type="checkbox" id="tandc" > I understand that I will need to review and sign a client agreement with PropShare Capital for participating in this investment opportunity. -->

            </div>
                
             
        </div>
        <div class="tab-pane fade text-center mt-2" id="background" role="tabpanel" aria-labelledby="background-tab">
            <div class="row">
                <div class="panel-body" style="margin-left: 30%;">
                    <div class="">
                        <div class="icon_wrapper">
                            <i class="fa fa-check-circle btn btn-success" style="font-size: 35px;"></i>
                        </div>
                        <p class="info-text">By hitting submit button Your basic profile will be created.</p>
                        <p class="note">You will need to complete a more detailed profile once you confirm your investment.</p>
                        <a href="/propertyAdmin/overview/">
                            <button class="btn btn-link" data-dismiss="modal">Thank you </button>
                        </a>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-success">Submit</button>
        </div>
    </form>
    </div>
</div>

<div>
</div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6/jquery.min.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js" type="text/javascript"></script>
<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="Stylesheet" type="text/css" />

<script>
     $( "#id_dob" ).datepicker({
        'format':'Y-m-d',
        changeMonth: true,
        changeYear: true,
	});
$( document ).ready(function() {
    
 

$("#profile").submit(function (evt) {


var phone=$('#id_phone').val();
var first_name=$('#id_first_name').val();
var last_name=$('#id_last_name').val();
var email=$('#id_email').val();
err_msg = '<ul style="color:red">'
    if(phone.length == 0 || first_name.length == 0 || last_name.length == 0 || pemailhone.length == 0){
        
        err_msg = err_msg+'<li>Phone Number is required!</li>';

        if(first_name.length == 0){
            err_msg = err_msg+'<li>First Name is required!</li>';

        }
        if(last_name.length == 0){
            err_msg = err_msg+'<li>Last Name is required!</li>';

        }
        if(email.length == 0){
            err_msg = err_msg+'<li>Email is required!</li>';

        }
        err_msg = err_msg+'</ul>'
        $('.modal-body').html(err_msg);
        $('#exampleModal').modal('show');
        evt.preventDefault();
         return;
    }
    else {

       
        return true;
    }


});


    $('#finance').hide();
    $('#background').hide();
});

$('#finance-tab').click(function(){
$('#finance').show();
$('#identity').hide();
$('#background').hide();

});
$('#identity-tab').click(function(){
$('#finance').hide();
$('#identity').show();
$('#background').hide();

});

$('#background-tab').click(function(){
$('#finance').hide();
$('#identity').hide();
$('#background').show();

});



</script>
<style>
.red{
    color:red;
}

</style>
{% endblock %}